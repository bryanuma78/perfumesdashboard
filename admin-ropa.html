<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Admin Ropa</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-slate-100 to-slate-200 min-h-screen p-6">

  <!-- NAVBAR -->
  <nav class="bg-white shadow-md mb-8 rounded-xl">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-blue-600 text-white flex items-center justify-center rounded-xl font-bold">P</div>
      <span class="text-xl font-bold text-slate-700">Dashboard</span>
    </div>

    <div class="hidden md:flex items-center gap-6 text-slate-600 font-medium">
      <a href="index.html" class="hover:text-blue-600">Perfumes</a>
      <a href="admin-ropa.html" class="hover:text-blue-600">Ropa</a>

      <!-- BOTÃ“N SALIR -->
      <button onclick="logout()" 
        class="ml-4 flex items-center gap-2 text-red-500 hover:text-red-700 transition">
        
        <svg xmlns="http://www.w3.org/2000/svg" 
          class="w-5 h-5" fill="none" viewBox="0 0 24 24" 
          stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" 
            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1m0-10V5" />
        </svg>

        <span>Salir</span>
      </button>
    </div>

  </div>
</nav>

  <div class="max-w-6xl mx-auto space-y-10">

    <!-- FORM -->
    <div class="bg-white shadow-xl rounded-2xl p-8">
      <h2 class="text-3xl font-bold text-slate-700 mb-6">ðŸ‘• Registrar prenda</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">

        <div>
          <label class="text-sm text-slate-600">TÃ­tulo</label>
          <input id="titulo" class="input" placeholder="Nombre de la prenda">
        </div>

        <div>
          <label class="text-sm text-slate-600">Precio</label>
          <input id="precio" type="number" class="input" placeholder="45">
        </div>

        <div>
          <label class="text-sm text-slate-600">Descuento %</label>
          <input id="descuento" type="number" class="input" placeholder="10">
        </div>

        <div>
          <label class="text-sm text-slate-600">CategorÃ­a</label>
          <select id="categoria" class="input bg-white">
            <option value="camisa">Camisa</option>
            <option value="pantalon">PantalÃ³n</option>
            <option value="chaqueta">Chaqueta</option>
            <option value="vestido">Vestido</option>
          </select>
        </div>

        <div>
          <label class="text-sm text-slate-600">Imagen (URL)</label>
          <input id="imagen" type="text" oninput="previewURL()" class="input"
            placeholder="https://example/">
        </div>

        <div class="lg:col-span-5">
          <label class="text-sm text-slate-600">Preview</label>
          <div class="mt-2 flex justify-center">
            <img id="previewImg"
              class="hidden w-40 h-40 object-contain rounded-xl border bg-slate-50 shadow transition-all"/>
          </div>
        </div>

      </div>

      <hr class="my-6">

      <h3 class="font-semibold text-slate-600 mb-3">Detalles</h3>

      <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
        <input id="talla" class="input" placeholder="Talla (S, M, L)">
        <input id="color" class="input" placeholder="Color">
        <input id="material" class="input" placeholder="Material">
        <input id="stock" type="number" class="input" placeholder="Stock">
        <select id="genero" class="input bg-white">
          <option value="hombre">Hombre</option>
          <option value="mujer">Mujer</option>
          <option value="unisex">Unisex</option>
        </select>
      </div>

      <button onclick="guardarProducto()"
        class="mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold transition">
        Guardar prenda
      </button>
    </div>

    <!-- LISTA -->
    <div class="bg-white shadow-xl rounded-2xl p-8">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
        <h3 class="text-2xl font-bold text-slate-700">ðŸ“¦ Prendas registradas</h3>
        <input id="buscador" oninput="filtrarProductos()"
          class="input md:w-72"
          placeholder="Buscar prenda...">
      </div>

      <div id="listaProductos"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      </div>
    </div>

  </div>

  <!-- TOAST -->
  <div id="toast" class="fixed top-6 right-6 z-50 hidden items-center gap-3 bg-white shadow-xl border-l-4 px-5 py-4 rounded-xl">
    <span id="toastIcon">âœ…</span>
    <span id="toastMsg" class="font-medium text-slate-700"></span>
  </div>

  <!-- MODAL -->
  <div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-50">
    <div class="bg-white rounded-xl p-6 w-80 space-y-4 shadow-xl">
      <h3 class="font-bold text-lg">Confirmar</h3>
      <p id="modalText" class="text-slate-600">Â¿Seguro?</p>

      <div class="flex justify-end gap-3">
        <button onclick="cerrarModal()" class="px-4 py-2 bg-slate-200 rounded">Cancelar</button>
        <button id="modalOk" class="px-4 py-2 bg-red-500 text-white rounded">Eliminar</button>
      </div>
    </div>
  </div>

  <style>
    .input {
      width: 100%;
      margin-top: 4px;
      padding: 8px;
      border: 1px solid #cbd5e1;
      border-radius: 0.75rem;
      outline: none;
    }
    .input:focus { border-color: #60a5fa; }
  </style>

  <script>
    function previewURL() {
      const url = document.getElementById("imagen").value;
      const img = document.getElementById("previewImg");
      if (!url) { img.classList.add("hidden"); return; }
      img.src = url;
      img.classList.remove("hidden");
    }

    function showToast(msg, type = "success") {
      const toast = document.getElementById("toast");
      const icon = document.getElementById("toastIcon");
      const text = document.getElementById("toastMsg");

      toast.classList.remove("hidden");
      toast.classList.add("flex");

      if (type === "success") { toast.style.borderLeftColor = "#22c55e"; icon.textContent = "âœ…"; }
      if (type === "error") { toast.style.borderLeftColor = "#ef4444"; icon.textContent = "âŒ"; }
      if (type === "warning") { toast.style.borderLeftColor = "#facc15"; icon.textContent = "âš ï¸"; }

      text.textContent = msg;

      setTimeout(() => toast.classList.add("hidden"), 2500);
    }

    let modalCallback = null;
    function abrirModal(texto, callback) {
      document.getElementById("modalText").textContent = texto;
      document.getElementById("modal").classList.remove("hidden");
      document.getElementById("modal").classList.add("flex");
      modalCallback = callback;
    }
    function cerrarModal() {
      document.getElementById("modal").classList.add("hidden");
    }
    document.getElementById("modalOk").onclick = () => {
      if (modalCallback) modalCallback();
      cerrarModal();
    };
  </script>

  <script type="module" src="./js/admin-ropa.js"></script>

</body>
</html>
